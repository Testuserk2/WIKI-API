﻿﻿# 评审中心接口文档 ###ReviewController#####评审中心首页获取数据接口（GetReviewDataList）#######说明####评审中心首页文档视图及管理员列表视图获取评审数据列表的接口，支持各种查询条件####参数####|参数名 | 类型 |说明|| --- | :-- |:--||reviewType	|	string     |	评审类型|reviewStatus	|string	  | 	评审状态|orderField |    	string	|	排序字段|orderBy |		string	|	排序方式 asc/descprojectId 	|	string	|	项目Id，多个用逗号隔开reviewName 		|string	|	评审名称approverName 	|string		|审核人用户登录名，多个用逗号隔开reviewerName 	|string	|	评审人用户登录名，多个用逗号隔开engineerName |	string	|	被评人用户登录名，多个用逗号隔开recorderName 	|string	|	记录员用户登录名，多个用逗号隔开moderatorName| 	string	|	发起人用户登录名，多个用逗号隔开startDate |		string	|	时间范围的起始值endDate 	|	string	|	时间范围的结束值pageIndex 	|	string	|	当前页码pageSize 	|	string	|	每页显示数量####返回值####    {		"ReviewTotal":"评审总数量"		"ReviewCount":"文档评审数量"		"CodeReviewCount":"代码评审数量"		"ReviewData":[			{				"ReviewUid":"评审Id",				"ReviewItemId":"评审ItemId",				"ReviewName":"评审名称",				"ReviewType":"评审类型(doc/code)",				"VersionNum":"评审版本号",				"ReviewRole":"当前登录用户的评审角色",				"Moderator":"发起人用户显示名",				"ModeratorVal":"发起人用户登录名",				"ProjectId":"项目Id",				"ProjectIName":"项目名称",				"ProjectIsDel":"项目是否已删除",				"ReviewUserStatus":"当前用户在该评审中的状态",				"ReviewUserStatusId":"枚举值",				"ReviewUserStatusStr":"枚举名称",				"ReviewCommentsCount":"评审评论数量",				"ReviewAction":"评审可进行的操作",				"ReviewTimeSpan":"评审结束时间与当前时间的差值",				"CreateTime":"评审创建时间（DateTime类型，用于排序）",				"EndDate":"评审结束日期（string类型）",				"StartDate":"评审创建日期（string类型）",				"Progress":"评审进度"			},...			]	｝###查询评审大纲数据接口（GetReviewWork）#######说明####文档评审大纲视图获取数据的接口####参数####|参数名 | 类型 |说明|| --- | :-- |:--|reviewId|		string		|	评审IDreviewVersion|	string		|	评审版本号treeDataId	|	string		|	条目数据的treeData表ID						####返回值####	{		"total":"总数目",		"rows":[			{				"ReviewId":"评审ID",				"ReviewTreeDataId":"评审条目TreeData表中的ID",				"ReviewTreeParentId":"评审条目TreeData表中的父节点ID",				"ReviewTreeDataName":"评审条目名称",				"HeadLevel":"评审条目的标题等级",				"NodeType":"数据类型",				"Number":"评审条目的编号",				"HasChildren":"评审条目是否有子节点",				"IsArtifact":"评审条目是否是工件",				"ReviewDataIndex":"数据的排序字段",			},...			]	}###导出评审数据接口（ExportReviewList）#######说明####用于导出评审管理员列表中的数据到Excel文件####参数####|参数名 | 类型 |说明|| --- | :-- |:--||reviewParam		|string	|		查询评审数据的参数，格式为{"xxx":"xxx",...},详细key，value说明参见GetReviewDataList接口参数说明|selectedColumns	|string	|		需要导出的列，格式为[{"ColumnKey":"xxx","ColumnType":"xxx","ColumnText":"xxx"},...]####返回值####	FileStreamResult###获取集合ID（GetSetUid）#######说明####获取在某个项目中，当前用户拥有新建和读取权限的某一类型的默认集合ID####参数####|参数名 | 类型 |说明|| --- | :-- |:--|nodeType	|	string		|数据类型projectId	|	string		|	项目ID####返回值####	ResultHelper<string>， Data为集合ID，不存在则为0##ReviewCheckController#####查询评审检查项及结果（SearchReviewCheckData）#######说明####查询评审的检查项及检查结果数据，返回值根据检查项分组进行分类####参数####|参数名 | 类型 |说明|| --- | :-- |:--|reviewId	|	int	|		评审IDreviewVersion|	int	|		评审版本号reviewDtlId	|int		|	评审条目数据的TreeDataId,当前评审传0checkListType|	string	|	评审检查单类型-review:评审/itemReview:条目,可选参数，默认传reviewconditions 	|	string 	|	检查项结果-fit/not_fit/not_suit/uncheck，可选参数，默认为空字符串；可传多个，用逗号隔开####返回值####	List<UITreeModel>	[		{			"text":"检查项分组",			"state":"open",			"id":"xxx"			"children":[				{					"text":"检查项分组",					"state":"open",					"id":"检查项ID",					"itemID":"编号",					"attributeDics":"检查项其他数据"				},...			]		},...	]###添加或更新检查结果（AddOrEditResult）#######说明####添加或编辑评审或条目的某一条检查项的结果####参数####|参数名 | 类型 |说明|| --- | :-- |:--||reviewId	|	int	|		评审ID|reviewVersion	|int	|		评审版本号|checkItemId	|	int	|		评审检查项ID|result	|		string	|	检查结果:fit-通过/not_fit-不通过/not_suit-不适用####返回值####	｛"ReturnMsg":"success/failed","OutMessage":"xxx"｝###查询评审关联的检查项（SearchCheckItemList）#######说明####根据评审ID、评审版本号等查询评审关联的检查项数据，返回值根据检查项分组进行分类####参数####|参数名 | 类型 |说明|| --- | :-- |:--||reviewId	|	int		|	评审ID|reviewVersion	|int		|	评审版本号|checkListType	|string	|	评审检查单类型-review:评审/itemReview:条目,可选参数，默认传review####返回值###	List<UITreeModel>	[		{			"text":"检查项分组",			"state":"open",			"id":"xxx"			"children":[				{					"text":"检查项分组",					"state":"open",					"id":"检查项ID",					"itemID":"编号",					"attributeDics":"检查项其他数据"				},...			]		},...	]###查询评审检查项（GetCheckItemByIds）#######说明####根据评审检查项ID查询评审检查项的名称####参数####|参数名 | 类型 |说明|| --- | :-- |:--||checkItemId	|	string	|	检查项ID，多个用逗号隔开####返回值####	[		{			"id":"检查项ID",			"text":"检查项名称"		},...	]###查询评审检查项列表（GetCheckItemList）#######说明####根据评审ID、评审版本号等查询评审检查项数据####参数####|参数名 | 类型 |说明|| --- | :-- |:--||reviewId	|	int	|		评审ID|reviewVersion	|int|			评审版本号|checkListType|	string		|评审检查单类型-review:评审/itemReview:条目,可选参数，默认传review####返回值####	[		{			"CheckItemId":"评审检查项ID",			"CheckItemName":"评审检查项名称",			"CheckItemGroup":"评审检查项分组",...		},...	]###查询评审条目检查结果的统计信息（GetReviewDtlCheckResult）#######说明####根据评审ID、评审版本号、评审条目id等查询评审条目检查结果的统计信息####参数####|参数名 | 类型 |说明|| --- | :-- |:--||reviewId	|	int	|		评审ID|reviewVersion	|int|			评审版本号|reiviewDtlId	|string		|评审条目ID，多个用逗号隔开，查询整个评审的检查项结果统计请传‘0’|checkListType|	string	|	评审检查单类型-review:评审/itemReview:条目,可选参数，默认传review|userName|		string	|	评审用户名称####返回值####	[		{			"ReviewDtlId":"评审条目Id",			"fitCount":"通过的检查项数目",			"not_fitCount":"不通过的检查项数目",			"not_suitCount":"不适用的检查项数目",			"un_checkCount":"为填写结果的检查项数目",			"total":"检查项总数"		},...	]